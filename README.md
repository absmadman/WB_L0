# Проект в рамках обучения Wildberries
# Быстрый старт
Для быстрого старта вам нужно запустить `nats-streaming-server` а также `postgresql` сервер, затем перейти в корневую
папку проекта и выполнить команду `make run`, проект развернется
и будет принимать запросы по адресу `localhost:8080`.
# О проекте
Проект создан с помощью пакета `Gin`, кеширование с помощью `lru-cache`.
* ***Конфигурирование*** \
Сервис поддерживает статическую конфигурацию через файл `config.yml`.
* ***Тестирование*** \
Тестами покрыты основные функции сервиса, тестирование можно выполнить с помощью инструкции `make test` в корневой папке проекта 
, при тестировании через брокер отправляются валидные и невалидные сообщения, валидные сообщения увеличивают число записей в базе данных, невалидные - нет, за счет этого происходит тестирование.
* ***Кеширование*** \
Кеширование построенно по принципу lru кеша, для его реализации я использовал готовый пакет `lru-cache`. \
При каждом перезапуске сервиса кеш восстанавливается из базы данных, он заполняется до его максимального размера, который можно настроить в конфигурационном файле
* ***Graceful Shutdown*** \
Проект поддерживает правильное завершение работы, оно реализованно с помощью контекста c таймаутом. В случае завершения работы сервис не сразу прекратит работу, а заставит подождать какое то время.
* ***Валидация сообщений*** \
Данные приходящие из nats валидируются по формату. Невалидные сообщения отбрасываются
* ***Интерфейс*** \
Веб-интерфейс реализован с помощью html шаблонов и библиотеки html/template

По мере разработки проекта я старался придерживаться чистой архитектуры, принципов SOLID, старался создать проект масштабируемым и поддерживаемым.\
Константы вынесены в файлы templates.go \
Скрипт для проверки подписки находится в папке publisher.

Проект реализует следующие эндпоинты и методы:
* /hello
  * GET без параметров, вернет надпись `Hello World!`
* /
  * GET с параметром `?id=` \
  Например: `localhost:8080/?id=1` вернет html страницу с заказом по id = 1 
